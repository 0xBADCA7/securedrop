@import "variables"

// LIBRARIES
@import libraries/normalize
@import libraries/font-awesome-iconography

// GLOBAL - order is significant
@import global/border-box-size-everything
@import global/body-tag

// MODULES - aim to make these encapsulated and order independent (using BEM syntax).
// Button - Button types (call to action hierarchy)
@import "modules/button"
// Link - link types (anchor tags)
@import modules/link
// Headline - The typography hierarchy
@import modules/headline
// Main content area - Outer container area for the whole page (see also: Panel)
@import modules/main-content-area
// Codename and password - common style for secrets
@import modules/codename-and-password
// Document actions - seems to be unused. Delete?
@import modules/document-actions
// Doc check - Checkbox spacing. In journalist interface only?
@import modules/doc-check
// Text link - make links purple in running text, possibly unnecessary.
@import modules/text-link
// Some kind of button possibly sd=standard button. Belongs in button module?
@import modules/sd-button
//variation on button for select all / none. In journalist interface only?
@import modules/select
// Pull - Quick layout helper classes
@import modules/pull
// Header - Area with logo
@import modules/header
//Cols - Something to do with the table of submitted documents. In journalist interface only?
@import modules/cols
//Panel - The main content area when the logo is on the left (logged in).
@import modules/panel
// Warning - Messages to user e.g. about protecting your security by turning Tor settings to high
@import modules/warning

=base_rules
  // LIBRARIES
  +normalize
  +font-awesome-iconography

  // GLOBAL - order is significant
  +border-box-size-everything
  +body-tag

  // MODULES - order is not significant.
  +button
  +link
  +headline
  +main-content-area
  +codename-and-password
  +document-actions
  +doc-check
  +text-link
  +sd-button
  +select
  +pull
  +header
  +cols
  +panel
  +warning

  .confirm-prompt
    visibility: hidden

    &:target
      visibility: visible

  p.serious
    font-weight: bold
    color: $color_warning_red

  .code
    background: rgba(0, 0, 0, 0.05)
    box-sizing: border-box
    -moz-box-sizing: border-box
    padding: 10px 15px
    border-bottom: 2px solid $color_warning_red
    font-size: large
    text-align: center

  .snippet
    border: 1px solid #c3c3c3
    background: $color_grey_xlight

    .attachment
      background-color: $color_grey_xlight
      padding: 12px
      width: 330px
      @media only screen and (max-width: 815px)
        width: 100%
      display: inline-block
      vertical-align: top

      .file-options
        padding-top: 8px

      input[type="file"]
        background-color: rgba(0, 0, 0, 0.05)
        padding: 10px
        font-size: 14px
        min-width: 100%
        max-width: 100%

    .message
      display: inline-block
      vertical-align: top
      width: 401px
      @media only screen and (max-width: 815px)
        width: 100%
      background: white
      overflow: hidden

      textarea
        vertical-align: top
        display: block
        padding: 10px
        width: 406px
        @media only screen and (max-width: 815px)
          width: 100%
        min-height: 168px
        border: none

        &:focus
          outline: none

  hr
    &.cut-out
      border-style: dashed
      border-bottom: none
      border-color: #c3c3c3

    &.no-line
      clear: both
      border: none
      height: 10px

  .clearfix
    clear: both

  .center
    text-align: center

  button.center
    display: block
    margin: 0 auto

  $color_error_border: #F68E8E
  $color_error_background: #FCE3E3

  aside, .flash, .banner-warning
    border-radius: 10px

    i
      font-size: 18pt

  aside
    background-color: #fffbe6
    color: #82572d

  aside, .flash
    padding: 10px
    margin: 10px
    text-align: left
    font-size: medium

    &:dir(rtl)
      text-align: right

  .flash
    display: flex
    flex-flow: row nowrap
    align-items: flex-start

    &.success
      border: 1px solid #E1F1E5
      background-color: #E6FFEB

      strong
        color: #299549

    &.notification
      border: 1px solid #8ed9f6
      background-color: #e3f7fc
      font-size: medium
      font-weight: normal

      i
        color: #4f7685

    &.error
      border: 1px solid $color_error_border
      background-color: $color_error_background

      i
        color: #D62727

    &.important
      border: 1px solid #EBDCEB
      background: #FDFAFD

      strong
        color: #673466
      p
        color: #555555

  .banner-warning
    border: 1px solid $color_error_border
    background-color: $color_error_background

    i
      color: #D62727

  div
    &#select-container
      display: inline

    &.document-actions button
      font-size: 14px
      padding: 6px 15px

  .grid-item
    display: inline-block
    letter-spacing: normal

  .option
    display: inline-block
    width: 30%
    min-width: 300px
    min-height: 310px
    margin: 1%
    padding: 25px
    border: 1px solid #c3c3c3
    vertical-align: top
    position: relative

    &.alt
      background-color: $color_purple_medium
      color: white

    &.selected
      width: 500px
      height: auto

  .logo
    width: 250px
    margin-right: 9px
    margin-top: 36px
    margin-left: 9px

    &.small
      width: 150px
      margin-top: 20px

  .submissions
    padding-left: 0px

    &:dir(rtl)
      padding-right: 0px

  .submission
    background: $color_grey_xlight
    border-bottom: 1px solid #ddd
    padding: 10px
    text-align: left

    &:dir(rtl)
      text-align: right

    &:last-child
      border-bottom: none

    .file
      min-width: 300px
      display: inline-block

      &.reply
        font-size: small

    .info
      font-size: 12px
      color: #666666

  ul.plain
    list-style: none

  ul.starred
    margin-bottom: 1.33em

  div#logout
    float: right
    margin: 1em 1em 0 1em

  label
    cursor: pointer

  em.light
    color: gray

  div#qrcode-container
    text-align: center

  span#shared-secret
    background-color: #FFFD9E
    color: #555
    padding: 4px
    border: 1px solid $color_grey_medium

  table#users
    width: 100%

    td
      text-align: center

  #regenerate-codename-btn
    padding: 5px 5px
    color: $color_grey_medium
    font-size: 14px

    &:hover
      color: #333

    &:focus
      outline: 0

  #regenerate-codename-btn-label
    font-size: 10px

  footer
    clear: both
    text-align: center
    border-top: 1px dashed $color_grey_xlight
    margin-top: 20px
    padding-top: 20px
    color: $color_grey_medium

span.form-validation-error
  color: red
  font-size: small
